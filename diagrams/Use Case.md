# Диаграмма вариантов использования

![Диаграмма вариантов использования](https://github.com/helistam/HeartHunter/blob/main/diagrams/images/UseCase.png)

# Глоссарий

| Термин | Определение |
|:--|:--|
| Пользователь | Человек, использующий приложение |
| Зарегистрированный пользователь | Пользователь, ранее зарегистрировавшийся в приложении |
| Список фильмов или коллекция | Список фильмов, находящихся в личной коллекции зарегистрированного пользователя |

# Поток событий

# Содержание
1 [Актёры](#actors)  
2 [Варианты использования](#use_case)  
2.1 [Войти в свою учётную запись](#sign_in_to_your_account)  
2.2 [Зарегистрироваться](#sign_up)    
2.3 [Войти как посетитель](#sign_in_as_visitor)  
2.4 [Просмотреть список фильмов](#view_film_list)  
2.5 [Найти фильм по названию](#find_film_in_list)  
2.6 [Найти информацию о фильме](#find_film_info)  
2.7 [Просмотреть информацию о фильме](#view_film_info)     
2.8 [Добавить фильм](#add_film)  
2.9 [Удалить фильм](#remove_film)  
2.10 [Выйти из учетной записи](#sign_out_of_your_account)

<a name="actors"/>

# 1 Актёры

| Актёр | Описание |
|:--|:--|
| Пользователь | Человек, использующий приложение |
| Зарегистрированный пользователь | Пользователь, который зарегистрировался в приложении |
<a name="use_case"/>

# 2 Варианты использования

<a name="sign_in_to_your_account"/>

## 2.1 Войти в свою учётную запись

**Описание.** Вариант использования "Войти в свою учётную запись" позволяет пользователю войти в учётную запись.  
**Предусловия.** Пользователь выбрал способ "Sign in" для входа в приложение.  
**Основной поток.**
1. Приложение отображает окно входа в учётную запись;
2. Пользователь вводит своё имя;
3. Пользователь вводит свой пароль;
4. Приложение запоминает имя пользователя;
5. Приложение присваивает пользователю статус "зарегистрирован";
6. Приложение скрывает окно входа в учётную запись;
7. Вариант использования завершается.

**Постусловия.** Выполняется вариант использования "[Просмотреть список фильмов](#view_film_list)".

<a name="sign_up"/>

## 2.2 Зарегистрироваться

**Описание.** Вариант использования "Зарегистрироваться" позволяет пользователю создать свою учётную запись в приложении.  
**Предусловия.** Пользователь выбрал способ "Sign up" для входа в приложение.  
**Основной поток.**
1. Приложение отображает окно регистрации, в котором запрашивает у пользователя ввод имени,пароль, дату рождения;
2. Пользователь вводит своё имя, пароль , дату рождения;
3. Приложение проверяет введённое имя на наличие запрещенных символов. Если совпадение выявлено, выполняется альтернативный поток А2;
4. Приложение создает файл профиля пользователя;
5. Приложение присваивает пользователю статус "зарегистрирован";
6. Приложение скрывает окно регистрации;
7. Вариант использования завершается.

**Альтернативный поток А2.**
1. Приложение сообщает пользователю, что в введенном имени содержатся запрещенные символы;
2. Приложение запрашивает у пользователя ввод другого имени;
3. Возврат к п.2 основного потока.

**Дополнительная информация.** Пользователь имеет возможность отменить действие до подтверждения ввода имени. В случае отмены выполняется альтернативный поток А3.

**Альтернативный поток А3.**
1. Приложение скрывает окно регистрации;
2. Вариант использования завершается досрочно.

<a name="view_film_list"/>

## 2.3 Начать просмотр анкет

**Описание.** Вариант использования "Просмотреть список анкет" загружает информацию из базы данных.  
**Предусловия.** Зарегистрированный пользователь вошел в приложение.  
**Основной поток.**
1. Приложение получает список фильтров ; 
2. Приложение получает список анкет удовлетворяющих фильтрам с сервера;
3. Приложение отображает анкеты на главном окне приложения. Если список пуст, выполняется альтернативный поток А4;
4. Вариант использования завершается.

**Альтернативный поток А4.**
1. Приложение отображает сообщение пользователю об отсутствии анкет соответствующих его фильтрам и предлагает изменить фильтры;
2. Вариант использования завершается.

<a name="find_film_in_list"/>

## 2.4 Перейти к следующей анкете 

**Описание.** Вариант использования "Перейти к следующей анкете" отбирает анкеты в соответствии с фильтрами пользователя.  
**Предусловия.** Пользователь ввёл в строку фильтра возраст город и гендер человека в окне отображения анкет и нажал кнопку "Find".  
**Основной поток.**
1. Приложение  показывает анкету и ждет действий пользователя;
2. Если пользователь сделал жест "Свайп вправо" приложение очищает экран и показывает пользователю следующую анкету, иначе на жест "Свайп влево" выполняется альтернативный поток А5
3. Вариант использования завершается.

**Альтернативный поток А5.**
1. Приложение присвает текущей анкете статус "Понравилось"
2. Приложение очищает экран и показывает следующую анкету
3. Вариант использования завершается.


<a name="find_film_info"/>

## 2.5 Перейти к предыдущей анкете 

**Описание.** Вариант использования "Перейти к предыдущей анкете" отображает прошлую анкету.  
**Предусловия.** Пользователь нажал специальную кнопу "Предудущая анкета".  
**Основной поток.**
1. Приложение очищает экран;
2. Приложение выводит прошлую анкету и ждет действия пользователя.
3. Вариант использования завершается.

<a name="view_film_info"/>

## 2.6 Изменить фильтр поиска

**Описание.** Вариант использования "Изменить фильтр поиска" позволяет выбрать другие критерии для анкет.  
**Предусловия.** Пользователь нажал на иконку фильтра коротким нажатием.  
**Основной поток.**
1. Вариант использования начинается, когда пользователь выбирает "фильтр" коротким нажатием;
2. Приложение выводит текущие фильтры пользователя;
3. Приложение получает измененные фильтры пользователя;
4. Приложение отправляет новый запрос на сервер к БД.Если отстутствует подключение к интернету, выполняется поток ошибки Е1. Если отстутствуют пользователи удовлетворяющие данному фильтру, выполняется поток ошибки Е2; 
5. Вариант использования завершается.

<a name="set_up_your_profile"/>

<a name="add_film"/>

## 2.7 Посмотреть свои лайки

**Описание.** Вариант использования "Посмотреть свои лайки" позволяет зарегистрированному пользователю посмотреть список пользователей которым понравилась его анкета.  
**Предусловия.** Зарегистрированный пользователь нажал на кнопку "Лайки".  
**Основной поток.**
1. Пользователь нажимает на кнопку "Лайки" в нижней панели экрана;
2. Приложение выводи список пользователей которые лайкнули данную анкету. Если список пуст, выполняется альтернативный поток А6;
3. Вариант использования завершается.

**Альтернативный поток А6.**
1. Приложение сообщает что данный список пуст;
2. Вариант использования завершается.

<a name="remove_film"/>

## 2.8 Редактировать свой профиль

**Описание.** Вариант использования "Редактировать свой профиль" позволяет зарегистрированному пользователю изменить информацию "о себе".  
**Предусловия.** Зарегистрированный пользователь зашел в домашнюю страницу и нажал "Редактировать свой профиль".  
**Основной поток.**
1. Пользователь нажимает на кнопку "Редактировать";
2. Приложение предлагает пользователю изменить персональные данные;
3. Приложение получает новые персональные данные и сохраняет их. Если в данные введены не корректно выполняется альтернативный поток А7;
4. Приложение сохраняет данные на устройстве и при подключении к интернету отправляет их на сервер;
5. Вариант использования завершается.

**Альтернативный поток А7.**
1. Приложение сообщает что в веденных данных есть ошибка;
2. Вариант использования завершается.

## 2.9 Удалить аккаунт

**Описание.** Вариант использования "Удалить аккаунт" позволяет зарегистрированному пользователю удалить свой аккаунт.  
**Предусловия.** Зарегистрированный пользователь зашел в домашнюю страницу и нажал "Удалить аккаунт ".  
**Основной поток.**
1. Пользователь нажимает на кнопку "Удалить аккаунт";
2. Приложение предлагает пользователю подтвердить свой выбор.Если пользователь передумал выполняется альтернативный поток А8;
3. Приложение посылает на сервер информацию об удалении пользователя;
4. Приложение приложение выходит из аккаунта и предлагает пользователю зарегистрироваться.
5. Вариант использования завершается.

**Альтернативный поток А9.**
1. Приложение закрывает окно удаления аккаунта;
2. Вариант использования завершается.


<a name="sign_out_of_your_account"/>

## 2.10 Выйти из учетной записи

**Описание.** Вариант использования "Выйти из учётной записи" позволяет зарегистрированному пользователю выйти из учётной записи.  
**Предусловия.** Зарегистрированный пользователь нажал на кнопку "Exit".  
**Основной поток.**
1. Вариант использования начинается, когда зарегистрированный пользователь выбирает пункт меню "Exit" в домашнем окне приложения;
2. Приложение скрывает главное окно приложения;
3. Приложение отображает окно входа в приложение;
4. Вариант использования завершается.